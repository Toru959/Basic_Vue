{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: 'BookSearch',\n  data: function () {\n    return {\n      keyword: '',\n      searchResults: []\n    };\n  },\n  methods: {\n    async search(keyword) {\n      this.searchResults = [];\n      // クエリーストリングを作成\n      const baseURL = 'https://www.googleapis.com/books.v1/volumes?';\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults: 40\n      };\n      const queryParams = new URLSearchParams(params);\n      console.log(baseURL + queryParams);\n\n      // fetchでJSON取得\n      const response = await fetch(baseURL + queryParams).then(response => response.json());\n      console.log(response.items);\n\n      // 必要な情報を配列にpush\n      for (let book of response.items) {\n        let title = book.volumeInfo.title;\n        let img = book.volumeInfo.imageLinks;\n        let description = book.volumeInfo.description;\n        this.searchResults.push({\n          title: title ? title : '',\n          image: img ? img.thumbnail : '',\n          description: description ? description.slice(0, 40) : ''\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","keyword","searchResults","methods","search","baseURL","params","q","maxResults","queryParams","URLSearchParams","console","log","response","fetch","then","json","items","book","title","volumeInfo","img","imageLinks","description","push","image","thumbnail","slice"],"sources":["src/pages/BookSearch.vue"],"sourcesContent":["<template>\n    <div>\n        <v-container>\n            <v-row>\n                <v-col cols=\"6\">\n                    <v-text-field label=\"本のタイトルを検索\"\n                    v-model=\"keyword\">\n                    </v-text-field>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col cols=\"3\">\n                    <v-btn color=\"primary\"\n                    v-on:click=\"search(keyword)\">\n                    検索する\n                    </v-btn>\n                </v-col>\n                <v-col>\n                    <v-btn color=\"secondary\"\n                    to=\"/\">\n                    一覧に戻る\n                    </v-btn>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col cols=\"12\" md=\"6\"\n                v-for=\"(book, index) in searchResults\" :key=\"book.index\">\n                <v-card class=\"mx-auto\">\n                    <v-row>\n                        <v-col cols=\"4\">\n                            <v-img :src=\"book.image\"></v-img>\n                        </v-col>\n                        <v-col cols=\"8\">\n                            <v-card-title>\n                                {{ book.title }}\n                            </v-card-title>\n                            {{ book.description }}\n                            <v-spacer></v-spacer>\n                            <v-card-action>\n                                <v-btn fab dark color=\"indigo\" v-on:click=\"addBookList(index)\">\n                                    <v-icon dark>\n                                        mdi-plus\n                                    </v-icon>\n                                </v-btn>\n                            </v-card-action>\n                        </v-col>\n                    </v-row>\n                </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'BookSearch',\n    data: function(){\n        return {\n            keyword: '',\n            searchResults: []\n        }\n    },\n    methods:{\n        async search(keyword){\n            this.searchResults = []\n            // クエリーストリングを作成\n            const baseURL = 'https://www.googleapis.com/books.v1/volumes?'\n            const params = {\n                q: `intitle:${keyword}`,\n                maxResults: 40\n            }\n            const queryParams = new URLSearchParams(params)\n            console.log(baseURL + queryParams)\n            \n            // fetchでJSON取得\n            const response = await fetch(baseURL + queryParams)\n            .then( response => response.json())\n            console.log(response.items)\n            \n            // 必要な情報を配列にpush\n            for(let book of response.items){\n                let title = book.volumeInfo.title\n                let img = book.volumeInfo.imageLinks\n                let description = book.volumeInfo.description\n                this.searchResults.push({\n                    title: title ? title : '',\n                    image: img ? img.thumbnail : '',\n                    description: description ? description.slice(0, 40) : ''\n                })\n            }\n        } \n    }\n}\n\n</script>\n\n<style>\n</style>"],"mappings":";;;;AAuDA;EACAA,IAAA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,OAAA;MACAC,aAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,OAAAH,OAAA;MACA,KAAAC,aAAA;MACA;MACA,MAAAG,OAAA;MACA,MAAAC,MAAA;QACAC,CAAA,aAAAN,OAAA;QACAO,UAAA;MACA;MACA,MAAAC,WAAA,OAAAC,eAAA,CAAAJ,MAAA;MACAK,OAAA,CAAAC,GAAA,CAAAP,OAAA,GAAAI,WAAA;;MAEA;MACA,MAAAI,QAAA,SAAAC,KAAA,CAAAT,OAAA,GAAAI,WAAA,EACAM,IAAA,CAAAF,QAAA,IAAAA,QAAA,CAAAG,IAAA;MACAL,OAAA,CAAAC,GAAA,CAAAC,QAAA,CAAAI,KAAA;;MAEA;MACA,SAAAC,IAAA,IAAAL,QAAA,CAAAI,KAAA;QACA,IAAAE,KAAA,GAAAD,IAAA,CAAAE,UAAA,CAAAD,KAAA;QACA,IAAAE,GAAA,GAAAH,IAAA,CAAAE,UAAA,CAAAE,UAAA;QACA,IAAAC,WAAA,GAAAL,IAAA,CAAAE,UAAA,CAAAG,WAAA;QACA,KAAArB,aAAA,CAAAsB,IAAA;UACAL,KAAA,EAAAA,KAAA,GAAAA,KAAA;UACAM,KAAA,EAAAJ,GAAA,GAAAA,GAAA,CAAAK,SAAA;UACAH,WAAA,EAAAA,WAAA,GAAAA,WAAA,CAAAI,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}